<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Generating thumbnail from a captured image in Blackberry</title>
    <meta name="author" content="Vasudev Kamath" />

    <!-- Normalize CSS -->
    <link rel="stylesheet" href="/css/normalize.css" type="text/css"/>

    <!-- 1140 Grid CSS -->
    <link media="screen" rel="stylesheet" href="/css/1140.css" type="text/css"/>

    <!-- styles.css -->
    <link media="screen" rel="stylesheet" href="/css/styles.css" type="text/css"/>

    <!-- 1140 Grid CSS related javascript -->
    <script src="/js/css3-mediaqueries.js" type="text/javascript"></script>

    
    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/css/emacs.css" type="text/css" />

    <!-- Webfont url -->
    <link rel="stylesheet" href="/fonts/stylesheet-bitstream.css" type="text/css"/>
    <link rel="stylesheet" href="/fonts/stylesheet-angelina.css" type="text/css"/>
    <link rel="stylesheet" href="/fonts/stylesheet-aargh.css" type="text/css"/>
    <link rel="stylesheet" href="/fonts/stylesheet-lato.css" type="text/css"/>    

    <!-- Homepage CSS -->
    <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
  </head>
  <body>

    <div class="container header">
      <div class="row">
        <div class="site">
          <div class="title">
            <a href="/">Random Ramblings</a>
          </div>
          <div class="subheading">
            Random thoughts shooting out of volatile mind
          </div>
        </div>
      </div>
    </div>
    <div class="container details">
      <div class="row">
        <div class="eightcol">
          <div class="postheading">
  Generating thumbnail from a captured image in Blackberry
</div>
<div class="postbody">
  <div style="text-align: justify;">Blackberry OS v4.6 and later will allow you to directly interact with camera and capture images. Till OS v4.5 for capturing image you needed to invoke the default camera application present in Blackberry using Invoke api. After capturing you may want to display the image as a thumbnail to user so now you will have question how can you do this. Even I had this same question and looked into many forums but didn't get a satisfactory answer later when I saw the Blackberry api reference i found a function by name <b>scaleImage32</b> under <b>EncodedImage</b> class. But I couldn't make it work properly since i had to convert my Bitmap image into EncodedImage and then use the function and get the Bitmap from this scaled image using getBitmap which is an expensive  call requiring lot of processing along with that whatever i get as output of this function was only 4bytes which means there was some problem in my logic. After struggling a lot I looked at the class <b>Bitmap </b>in the JDE refernce i found the <b>createBitmapFromBytes</b> allowed scaling and this function worked perfectly fine. Below is the piece of code which does this work.<br /><br /><pre name="code" class="java">FileConnection fc = null;<br />InputStream  is = null;<br />int length;<br />byte[] data = null;<br />Bitmap thumbnail = null;<br /><br />try {<br />fc = (FileConnection)Connector.open(filename);<br />is = fc.openInputStream();<br />if(fc.exists()) {<br />length = (int)fc.fileSize();<br />data = new byte[length];<br />fc.read(data,0,length);<br />thumnail = Bitmap.createBitmapFromBytes(data,0,length,20);<br />}<br />}<br />catch(Exception e)<br />{<br /><br />}<br /></pre><br />Prototype of createBitmapFromBytes is as follows<br /></div><pre name="code" class="java">static Bitmap createBitmapFromBytes(byte[] bytes, int offset, int length, int scale)<br /></pre>Here I've just mentioned the logic modify it to suite your needs. Your thumbnail will be returned as Bitmap object which you can use easily in your application.<br />One more thing I wanted to add here is scale factor to get thumbnail sized image your scale factor should be more than 20. C ya till next time

  <br/>
  <div class="meta_wrapper">
<ul class="tag_list_in_post">
    
    <li class="inline tag_list_item"><a class="tag_list_link" href="/tag/BlackBerry Application">BlackBerry Application</a></li>
    
    <li class="inline tag_list_item"><a class="tag_list_link" href="/tag/thumbnail generation in blackberry">thumbnail generation in blackberry</a></li>
    
</ul>
</div>
  
</div>
<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
    <li><span>11 Mar 2012</span> &raquo; <a href="/2012/03/hello_planet%21.html">Hello Planet! (Debian)</a></li>
    
    <li><span>10 Mar 2012</span> &raquo; <a href="/2012/03/ttf-indic-fonts_to_fonts-indic_transition_complete%21.html">ttf-indic-fonts to fonts-indic transition complete!</a></li>
    
    <li><span>04 Mar 2012</span> &raquo; <a href="/2012/03/lato_fonts_for_debian.html">Lato Fonts for Debian</a></li>
    
  </ul>
</div>

<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'randramblings'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

        </div>
        <div class="fourcol last">
          <div class="main-menu">
            <div id="home-menu" class="main-menu-item "> <a href="/"> Home </a></div>
            <div id="me-menu" class="main-menu-item "><a href="/about"> About </a></div>
            <div id="project-menu" class="main-menu-item"> Projects and Talks </div>
            <div id="archive-menu" class="main-menu-item "> <a href="/archives"> Archives </a></div>
            <div id="package-menu" class="main-menu-item"> <a href="http://qa.debian.org/developer.php?login=kamathvasudev@gmail.com"> Debian Packages </a> </div>
          </div>
          <br/>
          <hr/>
          <br/>
          <div class="widget">
            Follow Me
            <br/>
            <br/>
            <a href="http://frndk.de/profile/copyninja"><image class="badge" src="/images/iamusingfriendika.png"/></a>
          </div>
          <br/>
          <hr/>
          <br/>
          <a href=><img src= "http://pics8.inxhost.com/images/sticker.gif" border="0" width="80" height="15"/></a>
          <a href="/rss"><img class="badge" width="73" height="18" longdesc="/rss" alt="XML: RSS Feed" src="/images/rssbutton.png"></a>
          <a href="/atom"><img class="badge" width="73" height="18" longdesc="/atom" alt="XML: Atom Feed" src="/images/atombutton.png"></a>
          <a href='https://www.ohloh.net/accounts/153053?ref=Tiny'>
            <img alt='Ohloh profile for copyninja' height='15' src='https://www.ohloh.net/accounts/153053/widgets/account_tiny.gif' width='80' />
          </a>
          <a href='http://www.catb.org/hacker-emblem/'>
            <img src='/images/hacker.png' alt='hacker emblem' />
          </a>
          <br/>
          <br/><a href="http://www.adfreeblog.org/" target="_blank"> <img src="http://www.adfreeblog.org/adfreebutton.jpg"></a>
          <br/>
          <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">
            <img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/88x31.png" />
          </a>
          <br/>
</a>          
</div>
</div>
</div>

<!-- Footer -->
<div class="container footer">
  <div class="site">
    <div class="row">
      <div class="footer">
        <div class="contact">
          <p>
            (c) 2012 Vasudeva Kamath<br />
            <br/>
            This blog is powered by <b> Jekyll </b> and <b>Emacs</b>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
<a href="http://github.com/copyninja"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" /></a>

</body>
</html>


