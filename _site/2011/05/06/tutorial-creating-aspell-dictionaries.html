<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>>Tutorial: Creating Aspell Dictionaries</title>
    <meta name="author" content="Vasudev Kamath" />

    <!-- Normalize CSS -->
    <link rel="stylesheet" href="/blog/css/normalize.css" type="text/css"/>

    <!-- 1140 Grid CSS -->
    <link media="screen" rel="stylesheet" href="/blog/css/1140.css" type="text/css"/>

    <!-- styles.css -->
    <link media="screen" rel="stylesheet" href="/blog/css/styles.css" type="text/css"/>

    <!-- 1140 Grid CSS related javascript -->
    <script src="/blog/js/css3-mediaqueries.js" type="text/javascript"></script>

    
    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/blog/css/emacs.css" type="text/css" />

    <!-- Webfont url -->
    <link rel="stylesheet" href="/blog/fonts/stylesheet-bitstream.css" type="text/css"/>
    <link rel="stylesheet" href="/blog/fonts/stylesheet-angelina.css" type="text/css"/>

    <!-- Homepage CSS -->
    <link rel="stylesheet" href="/blog/css/screen.css" type="text/css" media="screen, projection" />

  </head>
  <body>

    <div class="container header">
      <div class="row">
        <div class="site">
          <div class="title">
            <a href="/">Random Ramblings</a>
          </div>
          <div class="subheading">
            Random thoughts shooting out of volatile mind
          </div>
        </div>
      </div>
    </div>
    <div class="container details">
      <div class="row">
        <div class="eightcol">
          <div id="post">
><div dir="ltr" style="text-align: left;" trbidi="on"><div style="text-align: justify;">I recently created aspell-kn dictionary and thus I became author for atleast one upstream project ;).. In this tutorial I'm just going to summarize the steps involved in creating an aspell dictionary for a particular language (in my case Kannada).</div><br /><a name='more'></a><br /><br /><div style="text-align: justify;">&nbsp;First step is to get the latest source of aspell-lang from cvs. Yes aspell still uses cvs but we need the source only to get a map file for our language and belive it won't take much time even on slow connection (like mine) to checkout the source. Use following command to checkout the aspell-lang.</div><br /><blockquote><i>cvs -z3 -d:pserver:anonymous@cvs.savannah.gnu.org:/sources/aspell co aspell-lang</i></blockquote><div style="text-align: justify;">&nbsp;The above command will create aspell-lang in the directory where you executed it. Now change to <i><b>aspell-lang/maps&nbsp; </b></i>directory. This directory contains language map files. Look for the map file for your language. If your language has Unicode charachter set the map file should <i>u-<lang>.txt</lang></i>. In my case the file was <i>u-knda.txt</i>. Open up the file in any editor and check if you need to add anything more than what is already in the file. This file actually maps 128-character Unicode space for the language to the space 128-255. Normally whatever content inside this file should be sufficient but for Indian scripts we require to map 2 Unicode control character <a href="http://en.wikipedia.org/wiki/ZWJ">ZWJ</a> and <a href="http://en.wikipedia.org/wiki/ZWNJ">ZWNJ</a> This is how u-knda.txt looks after addition of these 2 control characters<br /><br /><blockquote><i>0x11 = U+200C<br />0x12 = U+200D<br />0x80..0xFF = U+0C80..U+0CFF</i></blockquote>Next step is to generate the <i>cmap</i> and <i>cset</i> file for the language. Under aspell-lang directory there is a perl script "mkchardata"&nbsp; use this to generate <i>u-<lang>.cmap</lang></i> and <i>u-<lang>.cset. </lang></i>In my case I used following command to generate <i>u-knda.cmap</i> and <i>u-knda.cset</i><br /><blockquote><i>perl mkchardata maps/u-knda.txt</i></blockquote>&nbsp;Now create a working folder for new directory <i>aspell-<langcode></langcode></i> in my case <i>aspell-kn, </i>copy the u-<lang>.cmap and u-<lang>.cset to that directory .cmap and .cset is not mandatory file but I think if your language uses Unicode character set then these files are mandatory. Also create a <i>misc </i>and copy u-<lang>.txt in to this folder.</lang></lang></lang><br />Next we need to create <i>info </i>file. This file contains information about the dictionary. Below is the info file I used for aspell-kn<br /><script src="https://gist.github.com/959314.js?file=info"></script><br />As you can see all fields are self explantory. One thing I would like to mention here is <i>data-file </i>field. If your language needs cset and cmap files then use this field to give their name.<br />Next you need to create <i>Copying</i> file describing the terms of dictionary usage. If you are using license other than standard license then licesne text should be placed in <i>COPYING </i>file. For GPL licences this file will be created during processing phase.<br />Next important file is <i><lang>.dat </lang></i>format of this file is described in aspell manual under chapter <i>"Adding support for new language" </i>[1]. Below is the <i>kn.dat</i> which I created.<br /><script src="https://gist.github.com/959373.js?file=kn.dat"></script><br /><br />Now we have all the required files. Copy <i>proc</i> file from <i>aspell-lang</i> (cloned from cvs) to your working directory and run it as shown below<br /><blockquote><i>./proc create</i></blockquote>This will create <i>configure</i> script and <i>Makefile.pre</i> finally copy the word list file to working directory and name it as <i><lang>.wl</lang></i>. Word list file contains list of words seperated by new lines. Now run the following commands<br /><blockquote><i>./configure</i><br /><i>make</i></blockquote>This will convert the wl file to cwl (Compressed wordlist file using prezip tool). also creates a rws file. Now the dictionary is ready and to publish the dictionary to world use <i>make dist</i> this will create a tarball for distribution. Note that tarball doesn't include .wl file it only contains cwl file.<br /><br />I created aspell-kn refering to the tutorial on Indlinux wiki [2]. The only reason of rewriting the entire tutorial is I felt the tutorial given in Indlinux wiki is not suitable for beginer (I being the one during creation of aspell-kn had to struggle a lot to get everything together).<br /><br />The source for aspell-kn is available at [3] and source for the Kannada wordlist is available at [4] aspell-kn can be downloaded from [5] and will be soon packaged for Debian :) <br /><br />[1] http://aspell.net/man-html/Adding-Support-For-Other-Languages.html#Adding-Support-For-Other-Languages<br />[2] http://indlinux.org/wiki/index.php/IndicSpellchecker <br />[3] https://gitorious.org/indic-projects/aspell-kn<br />[4] https://gitorious.org/indic-projects/wordlist<br />[5] http://sanchaya.net/downloads/aspell-kn/</div></div>

</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>23 Dec 2011</span> &raquo; <a href=" / /2011/12/23/dh-make-font-a-font-package-helper-for-debian.html">>dh-make-font - A Font package helper for Debian</a></li>
    
      <li><span>14 Dec 2011</span> &raquo; <a href=" / /2011/12/14/my-journey-with-debian-and-floss-part-2.html">>My Journey with Debian and FLOSS - Part 2</a></li>
    
      <li><span>13 Dec 2011</span> &raquo; <a href=" / /2011/12/13/my-journey-with-debian-and-floss-part-1.html">>My Journey with Debian and FLOSS - Part 1</a></li>
    
  </ul>
</div>

        </div>
        <div class="fourcol last">
          <div class="widget">
            Connect to me on Friendica
            <script src="http://frndk.de/widgets/friends?k=37533857"></script>
          </div>
        </div>
      </div>
    </div>

    <div class="container footer">
      <div class="site">
        <div class="row">
          <div class="footer">
            <div class="contact">
              <p>
                (c) 2012 Vasudeva Kamath<br />
                The contents of this site are shared under <a href="http://creativecommons.org/licenses/by-sa/3.0/" class="contact">CC-BY-SA-3.0 Unported</a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <a href="http://github.com/copyninja"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" /></a>
  </body>
</html>


