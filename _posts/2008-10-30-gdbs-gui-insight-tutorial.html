--- 
layout: post
title: "GDB's GUI \"insight\" Tutorial"
published: true
meta: 
  blogger_author: Vasudev Kamathhttp://www.blogger.com/profile/05106578827322209004noreply@blogger.com
  blogger_blog: blog.copyninja.info
  blogger_permalink: /2008/10/gdbs-gui-insight-tutorial.html
tags: 
- Debuggers
- gdb
- insight tutorial
- LINUX
type: post
status: publish
---
<div style="text-align: justify;">I already have written a blog mentioning about a GUI for gdb. Today I'm going to give a brief tutorial of how to install insight and some basics for using the insight in debugging your programs. As I mentioned earlier this program can be downloaded from this <a href="http://sources.redhat.com/insight/">link.</a></div><div style="text-align: justify;">&nbsp;To install insight you first need to extract the insight folder from archive using following command</div><div style="text-align: center;"><blockquote>[root@localhost ~]# tar -xvf filename</blockquote><div style="text-align: justify;">Once extracting is done enter the insight's directory and use following commands for installing</div><div style="text-align: center;"><blockquote><blockquote> [root@localhost insight]# ./configure&nbsp;</blockquote></blockquote><div style="text-align: center;"><blockquote><blockquote><blockquote>[root@localhost insight]# make</blockquote></blockquote></blockquote></div><blockquote>[root@localhost insight]# make install</blockquote><br /><div style="text-align: justify;">Note that all these commands will take some time to finish so have pateince till they finish :)</div><div style="text-align: justify;"></div><div style="text-align: justify;">To begin with any executable file that you want to debug&nbsp; must contain a debugging information in it, this info is generated by compiler when we specify <i>-ggdb</i> or <i>-g</i> switch to the compiler either it is c(gcc) or c++(g++) . To launch insight you just have to type insight in shell prompt. The GUI version of gdb will be&nbsp; launched and you can have a look at it in the following image.</div><div style="text-align: left;"></div><div style="text-align: left;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_Pms4ehFPMfI/SQnw__buRAI/AAAAAAAAAcg/V7xpYPiU9W8/s1600-h/Screenshot-Source+Window.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/_Pms4ehFPMfI/SQnw__buRAI/AAAAAAAAAcg/sRwp0uKGR6U/s400-R/Screenshot-Source+Window.png" /></a>&nbsp;</div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: justify;">To load your executable file click on <i>File</i> tab and click <i>Open</i> as shown above this will open up a file browsing window from where you can select your executable file. See image below.</div><div class="separator" style="clear: both; text-align: left;"></div><div class="separator" style="clear: both; text-align: left;"></div><div class="separator" style="clear: both; text-align: left;"></div><div style="text-align: center;"><a href="http://2.bp.blogspot.com/_Pms4ehFPMfI/SQnvBiZAfvI/AAAAAAAAAbI/caOZ33Et_AU/s1600-h/Screenshot-Load+New+Executable.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/_Pms4ehFPMfI/SQnvBiZAfvI/AAAAAAAAAbI/0GgeGwqdXSM/s400-R/Screenshot-Load+New+Executable.png" /></a>&nbsp;</div><div style="text-align: center;">&nbsp;</div><div style="text-align: justify;">Once the file is loaded you can see your program in the main window with "-" symbol at place where you can insert break points. When you insert break points you can see a "red" square dot to specify break points. See image below</div><div style="text-align: left;">&nbsp;</div><div style="text-align: left;">&nbsp;</div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/_Pms4ehFPMfI/SQnuzyI9c8I/AAAAAAAAAaw/b8GHAT9RlJI/s1600-h/Screenshot-leaky.c+-+Source+Window.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/_Pms4ehFPMfI/SQnuzyI9c8I/AAAAAAAAAaw/XdzItonB9bk/s400-R/Screenshot-leaky.c+-+Source+Window.png" /></a><a href="http://1.bp.blogspot.com/_Pms4ehFPMfI/SQnu6TqEHSI/AAAAAAAAAa4/RdE_5hPMx_U/s1600-h/Screenshot-leaky.c+-+Source+Window-1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/_Pms4ehFPMfI/SQnu6TqEHSI/AAAAAAAAAa4/YBV3Z6-Vtr4/s400-R/Screenshot-leaky.c+-+Source+Window-1.png" /></a>&nbsp;</div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: justify;">You can see a animation of a man running in the top left corner in the tool bar it is the button for running your program click on it program will star and stop at your first break point. You can make out this by seeing the color of break point line which will now turn into green. The button next is to <i>step</i> that is line by line execution and the one next to it is for <i>next</i> instruction of gdb difference between <i>next</i> and <i>step</i> is that if current instruction is a function call <i>step</i> will&nbsp; step into function where as <i>next</i> executes entire function and stops at instruction next to function call.&nbsp; The&nbsp; next 2 buttons are <i>finish</i> and <i>continue</i>. <i>Finish</i> resumes normal execution ignoring all further break points where as <i>continue</i> executes all instruction till next break point is encountered. Next to buttons are for assembly language executing. Which is not required by normal users (it is for developer designig inbuilt functions or system calls).</div><div class="separator" style="clear: both; text-align: left;"></div><div class="separator" style="clear: both; text-align: left;"></div><div class="separator" style="clear: both; text-align: left;"></div><div style="text-align: center;"><a href="http://2.bp.blogspot.com/_Pms4ehFPMfI/SQnvbR1lFPI/AAAAAAAAAbo/yZqzMq_wews/s1600-h/Screenshot-leaky.c+-+Source+Window-6.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/_Pms4ehFPMfI/SQnvbR1lFPI/AAAAAAAAAbo/zGSrtJKsodE/s400-R/Screenshot-leaky.c+-+Source+Window-6.png" /></a>&nbsp;</div><div style="text-align: center;">&nbsp;</div><div style="text-align: justify;">Thinking of how to see and modify variable value? Well click on the view tab you have a set of options there.&nbsp;</div><div style="text-align: left;">&nbsp;</div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_Pms4ehFPMfI/SQnu_OFWhKI/AAAAAAAAAbA/dxiIpWj9akM/s1600-h/Screenshot-leaky.c+-+Source+Window-3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/_Pms4ehFPMfI/SQnu_OFWhKI/AAAAAAAAAbA/wJsIXa3-1uM/s400-R/Screenshot-leaky.c+-+Source+Window-3.png" /></a></div><div style="text-align: left;">&nbsp;</div><div style="text-align: left;">&nbsp;</div><div style="text-align: justify;">I'll start from basic one <i>Local Variables</i>. Click on this option a window consisting of all local variable of currently executing routine will open up. If you want to change any variable value you just need to right click(hold) and click on edit which will make a text box to appear where you can enter new value or modify existing one. See following images.</div><div style="text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_Pms4ehFPMfI/SQnvihXD83I/AAAAAAAAAbw/FHLvSPtwwsU/s1600-h/Screenshot-Local+Variables.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/_Pms4ehFPMfI/SQnvihXD83I/AAAAAAAAAbw/d8GvGAasLy8/s320-R/Screenshot-Local+Variables.png" /></a>&nbsp;</div><div class="separator" style="clear: both; text-align: center;">&nbsp;<a href="http://4.bp.blogspot.com/_Pms4ehFPMfI/SQnvnfPb32I/AAAAAAAAAb4/dxBiEfYbanA/s1600-h/Screenshot-Local+Variables-1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/_Pms4ehFPMfI/SQnvnfPb32I/AAAAAAAAAb4/RUVBXrT0ZAM/s320-R/Screenshot-Local+Variables-1.png" /></a>&nbsp;</div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: justify;">Next let us see the <i>Watch Expression</i> option. When you use you will notice that some variables which are globals are not listed. For global variables we use Watch expression. Here you can even enter expression like <i>root[i]</i> (say) and find their value during each step in execution. You can edit values using similar steps as local variables which I mentioned above.</div><div class="separator" style="clear: both; text-align: left;"></div><div class="separator" style="clear: both; text-align: left;"></div><div style="text-align: center;"><a href="http://3.bp.blogspot.com/_Pms4ehFPMfI/SQnv1vdNPuI/AAAAAAAAAcI/2htvdBAqOao/s1600-h/Screenshot-Watch.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/_Pms4ehFPMfI/SQnv1vdNPuI/AAAAAAAAAcI/ltV5bt-blYw/s320-R/Screenshot-Watch.png" /></a>&nbsp;</div><div style="text-align: center;">&nbsp;</div><div style="text-align: justify;">&nbsp;As you can see in image array variables are collapsible structures to see their values, one in the image is multi dimensional array.&nbsp;</div><div style="text-align: left;"><br /></div><div style="text-align: justify;">Other options:<br />1.<i>Stack Trace </i>can be used to keep track of nested function calls especially helpful in recursive functions.<br />2.<i>Memory Dump</i> provides you with memory lay out of the program you can see where in the memory are variables are stored using this.<br />3.<i>Registers</i> provide you with CPU register contents useful if you are using register like key word.<br />4.<i>Console</i>: this for the one who is missing old command line GDB :)<br />5.<i>Function Browser</i> provides details of set of functions declared in current program.<br />6.<i>Breakpoints</i> provides list of break points in current program.<br />7.<i>Thread List</i> for thread programmers.<br />Below are some snap shots of some of these options.</div><div style="text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_Pms4ehFPMfI/SQnvvNAuwTI/AAAAAAAAAcA/oiaIKW4WpIc/s1600-h/Screenshot-Registers.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/_Pms4ehFPMfI/SQnvvNAuwTI/AAAAAAAAAcA/uW3edxMWS2w/s400-R/Screenshot-Registers.png" /></a>&nbsp;</div><div class="separator" style="clear: both; text-align: center;"><i><u>Registers</u></i>&nbsp;</div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;">&nbsp;<a href="http://1.bp.blogspot.com/_Pms4ehFPMfI/SQnv_i339YI/AAAAAAAAAcY/0dtWcA11neo/s1600-h/Screenshot-Console+Window.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/_Pms4ehFPMfI/SQnv_i339YI/AAAAAAAAAcY/19CSI0di8vg/s400-R/Screenshot-Console+Window.png" /></a>&nbsp;</div><div class="separator" style="clear: both; text-align: center;"><i><u>Console</u></i>&nbsp;</div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: justify;">You have to remember this unlike other debuggers in Linux(kdbg) insight should be launched from&nbsp; shell console otherwise you won't be able to recive inputs or see outputs of an interactive program. Following screen shot displays insight utilizing shell console to get the input.</div><div class="separator" style="clear: both; text-align: left;"></div><div class="separator" style="clear: both; text-align: left;"></div><div style="text-align: center;"><a href="http://2.bp.blogspot.com/_Pms4ehFPMfI/SQnv73dzGEI/AAAAAAAAAcQ/80iBcVaGtj0/s1600-h/Screenshot-Test_CN+-+Shell++-+Konsole.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/_Pms4ehFPMfI/SQnv73dzGEI/AAAAAAAAAcQ/v0DBzGSkCrA/s400-R/Screenshot-Test_CN+-+Shell++-+Konsole.png" /></a>&nbsp;</div><div style="text-align: center;">&nbsp;</div><div style="text-align: justify;"><i>insight</i> also helps in advanced debugging as you can see in first image of this article, at top right corner of tool bar a drop down list is provided with following views.</div><ol style="text-align: justify;"><li>Source (Normal user)</li><li>Assembly&nbsp;</li><li>Source + Assembly (split view)</li><li>Mixed (assembly language version for each high level language instructions)</li></ol><div style="text-align: justify;">Following image is of assembly language version of a program I was debugging when I took this screen shots.</div><div style="text-align: left;">&nbsp;</div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_Pms4ehFPMfI/SQnvKy3a0JI/AAAAAAAAAbY/G0Jp4v9N7nw/s1600-h/Screenshot-leaky.c+-+Source+Window-5.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/_Pms4ehFPMfI/SQnvKy3a0JI/AAAAAAAAAbY/UD-4JCg5kFY/s400-R/Screenshot-leaky.c+-+Source+Window-5.png" /></a>&nbsp;</div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: justify;">So now tell me isn't it easy to debug your code with this tool ? Any way HAppy Debugging :)&nbsp;</div><div style="text-align: left;"> &nbsp;</div><div style="text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;"></div><div style="text-align: left;"> &nbsp;</div><div style="text-align: left;"></div></div></div>
